0.40    18 September 2004
        Recent Changes now shows changes in the past 24 hours, past week,
          past fortnight, and past 30 days.
        New preferences option to allow Recent Changes visit tracking.
        Preferences now has an option for when your prefs expire.
        Navbar added to diff and history pages.
        The "omit help links" preference now actually works.
        Set some pages to non-editable and non-deletable that should have been.
        Recent Changes RSS fixed so "wiki:importance" is set correctly.
        New "ignore_minor_edits" option for Recent Changes RSS.
        Added RSS feeds for contributors, locales and categories.

0.39    15 September 2004
        Split commit_node out into OpenGuides.pm in preparation for spam filter
        Added option of using Plucene for searching.  If you want to do this
          (and it is recommended over the default of Search::InvertedIndex)
          you will need to do two things:
            - either delete your old indexes (they're just files in the index
              directory) or use a different index directory
            - reindex your entire wiki (see reindex.pl in the examples/
              directory of this distribution)

0.38    26 July 2004
        Major improvements to the search result ordering (thanks to
          Steve Jolly, Bob Walker and Billy Abbott for test cases).

0.37    23 July 2004
        Fixed bug in diff view - the versions are the right way round now...
          Fixed bug with links in historic view.  Require CGI.pm 2.92 to
          avoid escapeHTML bug.

0.36    13 July 2004
        Added diff link to node template. Fixed case sensitivity bug in
          index node autocreation.  Fixed bug with node history comments
          not being HTML-escaped.

0.35    25 June 2004
        Forgot to add version prerequisite on CGI::Wiki.  Don't use 0.34,
          use this.

0.34    25 June 2004
        Add facility to delete only certain revisions of a page - access
          this from the node history page.

0.33    20 June 2004
        Improve node history page to allow diffing between each version and
          the previous one or the current one.
        Test overhauls - you don't need to run the configuration step in
          order to run the tests now, but you do need to have DBD::SQLite
          for most of them.
        Fixed template bug in display_metadata.tt that was stopping map
          links being displayed for nodes with no address data (spotted
          by Steve Jolly).
	Removed inline style from recent_changes.tt. You will need to add
	  the styles table#recentchanges, td.recentchanges_meta,
	  td.recentchanges_user, td.recentchanges_node_name and
	  td.recentchanges_comment to your stylesheets.
	  td#map changed to td#map_link in edit_conflict.tt.
        Added searching by distance from an arbitrary point (click on
          Advanced Search).
        Internal rejigging - extracted some methods from wiki.cgi to
          OpenGuides.pm.
        Added new preference for default edit type.
        Reinstate apparently lost change from 0.26 to show IP rather than 
          "Anonymous" in RecentChanges.
        More informative <title> tags for non-node (e.g. node version
          history) pages.

0.32    7 June 2004
        Change auto-creating behaviour of index nodes (categories and
	  locales): instead of being created on access they are created
	  when the referring node is committed. This fixes compliance with
	  RFC 2616 section 9.1.1 and prevents corrupted index nodes being
	  created accidentally.

0.31    09 May 2004
        Created a new macro to allow the embedding of RSS feeds into
          pages, using CGI::Wiki::Plugin::RSS::Reader. This allows you
          to do this to produce a list of up to ten hyperlinks:
            @RSS [http://example.com/example.rss]
       
        Numerous template tweaks to comply with the W3C's Web Content 
          Accessibility Guidelines (http://www.w3.org/TR/WAI-WEBCONTENT/):
          - summaries for all HTML tables
          - labels for all form input elements and some textual additions 
            to templates, such as '/' separators between navbar items, 
            because the guidelines specify links should not only be 
            separated by whitespace. If you don't want these to appear,
            put the following in your stylesheet and they'll be hidden by 
            CSS (but will still appear for people using textual browsers or 
            screen readers): ".hidden { display: none }".
          - the "lang" element (a two-letter code identifying the language 
            you're writing pages in) will now be added to the <html> tag on 
            all pages; a new question has been added to the configuration 
            script to ask for it and it will be stored in wiki.conf.
            ***         YOU WILL NEED TO RUN BUILD.PL AGAIN.          ***
            *** Remember to keep a backup copy of your old wiki.conf! ***   

        Improved navigation for search results (next and previous n hits).
          Removed underscores from page names in search results.

        Overhauled RDF output. Changes:
          - everything is no longer classified as a restaurant(!)
          - empty tags are no longer generated
          - show categories, locales and OS x/y coords in invididual 
            node RDF view
          - switch to W3C contact namespace for addressing data
          - move homepage tag out of wiki metadata
          - remove nonexistent "gs:" namespace from category indices
          - logical structure improvements (subjects of pages are now
            identified as spatial things if they are, or are RDF
            descriptions if they're not, instead of being anonymous 
            FOAF topics)
          - include city and country in RDF only for spatial things.

        Fixed bug that prevented automatic database initialization on
	  SQLite databases.

	Doc fix for private installations.

  	Removed the following characters from the list of forbidden ones in 
          node names in newpage.cgi (a restriction which dates from all the way
          back when we were using UseModWiki): " ! $ ^ ~ @ [ ] { }

        Removed newlines from output of search box macro.

	Reimplemented diffing using CGI::Wiki::Plugin::Diff as it seems the
          change in 0.30 got lost. Removed OpenGuides::Diff.pm as we should not 
          be distributing it.

0.30    29 December 2003
        Added method to allow admins to delete nodes.  You will need to
          explicitly enable this option in your wiki.conf, since it brings
          with it the risk of accidental data loss.

        Major overhaul of templates - added numerous style hooks.  See
          examples/ for two stylesheet designs that take advantage of these.
          Added new banner template for page headers. Also ensured presence
          of navigation bar is consistent.
          *** INCOMPATIBLE CHANGE: *** The navbar class in the stylesheet
          has been renamed to, unsurprisingly, "navbar", for consistency 
          (from "toolbar"). *** YOU WILL NEED TO REWRITE YOUR STYLESHEET. ***
          You are advised to create a duplicate wiki.cgi that reads its data
          from your database but its stylesheet and templates from the new
          ones in order to test them *before* deploying them.

        Added "FAQ", "How To Get Started" and "Wiki Etiquette" to the
          navigation, under "Help" - these won't exist unless you create them 
          on your site, so at first the links serve as examples of 
          documentation you can provide.

        Modified preferences.cgi so that all the help links in the navbar
          can be hidden, not just the text formatting link.

        Fixed some HTML validation bugs.

	Added multiple install and pretty URL notes to INSTALL.

	Removed pubcrawl stuff from distro for now - it doesn't really work.

	Changed to use CGI::Wiki::Plugin::Diff instead of OpenGuides::Diff.

0.29    8 November 2003
        Expanded section in TROUBLESHOOTING about permissions problems.

        Diff.pm now absorbs trailing punctuation and spaces into words
          it is diffing (to give less blocky results).

        SuperSearch.pm change NOT to use '-' instead of '!'.

0.28    1 November 2003
        Allow running sites on SQLite databases.

        Fixed bug with navbar prompt in Build.PL (CPAN RT #3894).
        Junked OpenGuides::Config completely to avoid database password
          leakage, and easier install (CPAN RT #3916).

0.27    1 November 2003
        Fixed bug with category/locale indexing - no longer case-sensitive.

        Fixed bug that had the supersearch results page offering an edit link.

	Revamp of search syntax to make the SuperSearch UI much more like
	Google and Alta Vista. See the POD of SuperSearch.pm for details.

0.26    9 October 2003
        Modified TROUBLESHOOTING to reflect the correct invocation for
          Module::Build to install into a private directory.

        Show IP address for anonymous edits.

        Changed CGI.pm version dependency for Dom (CPAN bug #3895).

        Added check to OpenGuides::SuperSearch to stop it trying to
          retrieve a nonexistent node when the search indexes have screwed up.

0.25    23 September 2003
        Applied recent changes fix to front page feed as well.

        Search box now searches categories and locales as well as title and
          body - so for example a search on "holborn & pubs" will DTRT.

        NOT and phrase search tests were passing even though they shouldn't
          have been - skip them for now.

0.24    8 September 2003
        Fix to recent changes so minor changes don't mask major ones.

        Fixed supersearch.cgi to use a template instead of CGI.pm to avoid
          weird errors, also turned it into a module and added tests.
        Strip whitespace from OS co-ords before storing in database.

0.23    4 August 2003
        Removed the "POST_CHOMP" option as it was messing up textareas, added
        a test to make sure this doesn't reoccur.

0.22    4 August 2003
        Fixed bug with usernames containing spaces in recent changes/userstats.

        Try out create_makefile_pl => "passthrough" in Build.PL

        Minor fixes to tests to make them work with newest UseMod formatter.

	Prevented "Edit this page" from showing up on category indexes.

	Set TT "POST_CHOMP" option to strip unnecessary newlines from HTML.

        Fixed CPAN bug #3085 - quotes in change summary box.

        Added openguides_version template variable and added it to page
        footer (CPAN request 3110).

0.21    17 July 2003
        We no longer autogenerate a Makefile.PL, since it doesn't pick up
        all the questions that need to be asked.  Sorry.  Use Module::Build
        as detailed in INSTALL, since you won't be able to get the right
        version of Text::WikiFormat installed without it in any case.

        Added version number to CGI.pm prereq as Alex McLintock hit a
        version that didn't have unescape.

        Added a link on RecentChanges to the RSS version, and put an
        autodiscovery tag for the RSS in the head section.

	Changed diff feature to hide checksums, which aren't necessary for 
        the user to see. Fixed a minor bug in the node history template so
        that the diff links compare the selected version against the previous
        one, not the original one every time.

0.20    10 July 2003
        Fixed all the email addresses to openguides-dev@openguides.org.

0.19    10 July 2003
        Extra checks that script_url ends in a '/'.

        Fixed small bug with edit conflict form - map link field was missing.

        Moved "content" div in a couple of templates to fix incorrect nesting. 

        @INDEX_LINK macros now have optional title text like so:
          @INDEX_LINK [[Category Pubs|Pubs]]

        Added preferences option for including or excluding text formatting
        rules link in navbar.  Enable this by setting text_formatting_node
        in your config file.

        Added config option for including the navbar on the home page.

        Implemented minor edits.

        Fixed cookie to persist beyond session.

0.18    16 June 2003
        Added a Makefile.PL as well as a Build.PL, for CPAN.pm users.

0.17    15 June 2003
        Fixed OpenGuides::Utils to take note of dbhost.
 
        Added example stylesheet provided by the OxfordGuide team.

0.16    26 May 2003
        Ivor fixed OpenGuides::Diff to diff by word instead of by character.

        Fixed edit conflict up so it works nicely when you click the
        Save button as well as the Preview one.

        Added preferences option of displaying lat/long as deg-min-sec
        instead of decimal (requested by James).

0.15    18 May 2003
        Added Algorithm::Diff version dependency to prereqs, fixed bug
        with preferences.cgi and blank script_name, fixed REDIRECT bug.

0.14    17 May 2003
        Added "Wanted Pages" link to navbar, thanks to Simon Cozens for
        the idea.

        Fixed many bugs noticed by Dominic Hargreaves and other Oxonians.
        Many thanks to Dominic for making an Oxford OpenGuides install for
        us to find bugs in.

0.13    17 May 2003
        Added some more stylesheet hooks.
 
        Tweaked OpenGuides::Diff to make it testable, added a start at tests.

        Lat and long now stored to only 6dp instead of millions.

        Added edit field for map link.

0.12    14 May 2003
        Added OpenGuides::CGI to manage cookies and things, used this to
        do more code tidying.  Added edit box position option to preferences.

0.11    14 May 2003
        Added newpage.cgi for an easy way to create new pages.

        Took loads of repeated code (for extracting and packaging metadata
        variables) out of wiki.cgi into OpenGuides::Template.

0.10    11 May 2003
        Added OpenGuides::Diff to provide nice diff output between
        node versions.

        Added OpenGuides::Template to handle Template Toolkit stuff in a
        more testable and reusable way than just bunging it in wiki.cgi.

0.09    10 May 2003
        Added OpenGuides::UK::PubCrawl and pubcrawl.cgi as a start at a
        pub crawl generator.

        Added OpenGuides::Utils to make it easier to write little standalone
        scripts like supersearch.cgi, pubcrawl. cgi, etc.  Made wiki.cgi and
        supersearch.cgi use it, and lost loads of duplicated code in the
        process, hurrah.

0.08    3 May 2003
        Added fuzzy matching capability -
          action=index;index_type=fuzzy_title_match;index_value=hollborne
        Someone needs to write a nice search box interface for this.

        Fixed edit_conflict template and preview method to cope with stale
        checksum - passes through all the metadata properly now and offers
        a side by side comparison of what you input and what is stored.

        RDF output for node is now encoding-agnostic (used to have UTF-8
        hardcoded).  Also is now called as wiki.cgi?id=Node_Name;format=rdf

0.07    3 May 2003
        Require CGI::Wiki 0.32 to avoid bug (again a Bob find!) where
        committing a node with metadata but no content would die.

        Auto-created category/locale stub pages now added to Category Category
        or Category Locales as appropriate.

        Added a couple of extra allowed HTML tags to cater for existing
        grubstreet data.

        Fixed bug in OpenGuides::RDF - it used to die if called on a
        nonexistent node, now it returns stuff with a wiki:version of 0.

0.06    2 May 2003
        Fixed supersearch.cgi so it works with MySQL as well as Postgres
        (thanks again to Bob for finding the bug).

0.05    2 May 2003
        Redid the script and template installation so the script does
        actually get called what you said it should be (code copied
        somewhat from Siesta::Build).

        Fixed the support for non-local databases/IDENT authentication.
        I think.

        Fixed the hardcoded 'wiki.cgi' in some of the templates (thanks Bob).

0.04    29 April 2003
        First public release.
